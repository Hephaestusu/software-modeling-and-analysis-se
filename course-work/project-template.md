# Описание на проект: Платформа за управление на Discord сървъри

* **Версия:** 1.0
* **Дата:** 2025‑11‑04

---

### 1. Резюме на проекта

| Цел на проекта | Целева аудитория | Основни резултати |
| :--- | :--- | :--- |
| Създаване на база данни и склад за данни за управление на Discord сървъри, потребители, канали, роли, съобщения, реакции и прикачени файлове. | Студенти и преподаватели от курса, администратори на Discord сървъри, разработчици и специалисти по анализ на данни. | Релационна база и звездно хранилище; ER‑диаграми (Chen & Crow’s Foot); SQL скриптове за създаване и попълване на таблици; хранима процедура, функция и тригер; доклад в Power BI с поне три визуализации. |

---

### 2. Обхват и основни функционалности

* **Управление на потребители:** създаване на потребители, търсене и присъединяване към сървъри.
* **Управление на сървъри:** добавяне и редактиране на сървъри (име, регион, публичност, описание).
* **Канали:** създаване на текстови и гласови канали с тема и флаг за NSFW.
* **Съобщения и прикачени файлове:** съхраняване на съобщения с текст и време, качване и връзване на файлове.
* **Роли:** създаване на роли на сървър и назначаване на участниците.
* **Емодзи и реакции:** добавяне на кастомни емодзи и записване на реакции от потребители.
* **Аналитика:** събиране на агрегирани данни и построяване на BI отчети от склада за данни.

---

### 3. Технологичен стек

* **Сървърна част (Backend):** MS SQL Server и T‑SQL за процедури, функции и тригери.
* **Клиентска част (Frontend):** не се използва – проектът е фокусиран върху база данни и анализ.
* **База данни:** MS SQL Server като OLTP и звездна схема за Data Warehouse.
* **Инструменти:** draw.io или Visio за ER диаграми, Power BI за визуализации, GitHub за версия и съхранение на проекта.

---

### 4. Основни бизнес правила

#### 4.1. Правила за достъп и роли

* Потребител може да бъде член на много сървъри; членството записва дата на присъединяване, псевдоним и статуси.
* Ролите са специфични за сървър и имената им са уникални в рамките на този сървър.
* Само участници с администраторски права на сървъра могат да създават канали и да назначават роли.

#### 4.2. Ключови бизнес правила

* Комбинацията `username + discriminator` и `email` са уникални за всеки потребител.
* Всеки сървър има собственик и може да съдържа много канали и роли.
* Канал принадлежи на един сървър; съобщението принадлежи на един канал и един автор; прикачените файлове са опционални.
* Ролите се назначават само на участници в същия сървър; потребител може да има много роли.
* Емодзи може да бъде глобален (Unicode) или сървърен; сървърният емодзи е собственост на един сървър.
* Реакцията представя връзка „кой, на кое съобщение, с кой емодзи и кога“; потребител може да реагира многократно, но с един емодзи само веднъж на съобщение.

#### 4.3. Правила за данните

* Основните идентификатори (`user_id`, `server_id`, `channel_id` и т.н.) са автоинкрементни и служат за сурогатни ключове.
* Външните ключове гарантират целостта на данните (например `channel.guild_id → server_id`, `message.channel_id → channel_id`).
* Датите и времената (`created_at`, `sent_at`) се попълват автоматично.
* При изтриване на сървър свързаните канали, роли и членства се изтриват каскадно.
